(()=>{var c=class{constructor(){this.assets={}}loadAssets(s){return new Promise((i,d)=>{let e=0,r=0,o=()=>{r++,setTimeout(()=>{r===e&&i(!0)},1)},n=t=>{e++;let a=new Image;return a.src=t,a.onload=o,a};s.forEach(this.prepareAsset(n))})}prepareAsset(s){return({id:i,src:d,states:e})=>{let r=s(d),o={id:i,img:r,states:{}};e&&Object.keys(e).forEach(n=>{let t,a=r;typeof e[n]=="string"?t={src:e[n]}:t=e[n],t.src&&(a=s(t.src)),o.states[n]={img:a,transform:t.transform}}),this.assets[i]=o}}async setupCanvas(s){this.canvas=document.createElement("canvas"),this.canvas.id="game",this.canvas.width=s.w||800,this.canvas.height=s.h||450,document.body.appendChild(this.canvas),this.ctx=this.canvas.getContext("2d")}};window&&(window.DumbRenderer=c);var g=c;})();
