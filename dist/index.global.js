(()=>{var o=class{constructor(){this.assets={}}loadAssets(s){return new Promise((a,d)=>{let e=0,r=0,i=()=>{r++,setTimeout(()=>{r===e&&a(!0)},1)},n=t=>{e++;let c=new Image;return c.src=t,c.onload=i,c};s.forEach(this.prepareAsset(n))})}prepareAsset(s){return({id:a,src:d,states:e})=>{let r=s(d),i={id:a,img:r,states:{}};e&&Object.keys(e).forEach(n=>{let t;typeof e[n]=="string"?t={src:e[n]}:t=e[n],t.src&&(i.states[n]={img:s(t.src),transform:t.transform})}),this.assets[a]=i}}async setupCanvas(s){this.canvas=document.createElement("canvas"),this.canvas.id="game",this.canvas.width=s.w||800,this.canvas.height=s.h||450,document.body.appendChild(this.canvas),this.ctx=this.canvas.getContext("2d")}};window&&(window.DumbRenderer=o);var g=o;})();
